"use strict";var app=angular.module("sajDonOrtega",["ngAnimate","ngTouch","ui.bootstrap","angular.filter"]);app.controller("DashboardCtrl",["$scope","database",function(e,a){var t=this;t.sortBy="+name",t.filters={},t.filterFlags={availability:{}},t.init=function(){a.getList().then(function(e){t.appList=e,t.appList.forEach(function(e,a,t){e.isCollapsed=!0,localStorage.getItem("sajDO-"+e.id)?"true"===localStorage.getItem("sajDO-"+e.id)?e.isFlagged=!0:e.isFlagged=!1:(localStorage.setItem("sajDO-"+e.id,"false"),e.isFlagged=!1);var i=e.applied.split("/");i[0]=Number.parseFloat(i[0])-1,i[1]=Number.parseInt(i[1]),i[2]=Number.parseInt("20"+i[2]),e.appliedJS=new Date(i[2],i[0],i[1]).getTime()})})},t.toggleFlag=function(e){t.appList.forEach(function(a,t,i){a.id===e&&(a.isFlagged=!a.isFlagged,localStorage.setItem("sajDO-"+a.id,""+a.isFlagged))})},t.toggleFilter=function(e){filterSubName||(void 0===t.filters[e]?t.filters[e]=!0:delete t.filters[e])},t.availabilityFilter=function(e,a,i){if(angular.equals(t.filterFlags.availability,{}))return!0;var r=[];for(var l in t.filterFlags.availability){var n=!1;e.availability[l]>0&&(n=!0),r.push(n)}return void 0===r.find(function(e){return!1===e})},t.experienceFilter=function(e,a,i){return!t.experienceInput||e.experience>=t.experienceInput},e.$watch(function(){return t.filterFlags},function(e,a){for(var i in e)e[i]||(delete t.filters[i],"experience"===i&&(t.experienceInput=""));for(var r in e.availability)e.availability[r]||delete t.filterFlags.availability[r]},!0)}]),app.service("database",["$http","$q",function(e,a){var t={};return t.getList=function(){var t=a.defer();return e.get("/data/data.json").then(function(e){t.resolve(e.data)},function(e){t.reject(e)}),t.promise},t}]);